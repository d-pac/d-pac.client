'use strict';
const pxquire = require( 'proxyquire' ).noCallThru();
const _ = require( 'lodash' );

var jsdom = require("jsdom");
var window = jsdom.jsdom().defaultView;
const jquery = require( '../../bower_components/jquery/dist/jquery' )(window);
const backbone = pxquire( '../../bower_components/backbone', {
    underscore: _
} );
const PatchedBackbone = pxquire( '../../bower_components/backbone-nested-model', {
    jquery: jquery,
    underscore: _,
    backbone: backbone
} );

module.exports = {
    underscore: _,
    jquery : jquery,
    backbone: backbone,
    'backbone-nested-model': PatchedBackbone.NestedModel
};
